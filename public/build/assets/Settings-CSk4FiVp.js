import{b as y,r as x,u,j as e,H as w}from"./app-C8lhSVMT.js";import{A as N}from"./AdminLayout-DayVYhfC.js";import{U as v}from"./user-BpKWA8OL.js";import{L as k}from"./lock-CxyxfFSo.js";import{c as i}from"./createLucideIcon-CskaXQlG.js";import{S as p}from"./save-BW_-kEQC.js";import"./file-text-5M3K4KXe.js";import"./users-BEapWFTP.js";import"./menu-wL7uFBCp.js";const P=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_=i("camera",P);const S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],C=i("globe",S);const z=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],b=i("loader-circle",z);function E(){const{auth:t}=y().props,c=x.useRef(),[n,m]=x.useState("profile"),{data:o,setData:l,post:h,processing:d,errors:a}=u({name:t.user.name||"",email:t.user.email||"",phone:t.user.phone||"",image:null,_method:"put"}),s=u({current_password:"",password:"",password_confirmation:""}),f=r=>{r.preventDefault(),h(route("admin.settings.update-profile"),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>alert("Profil berhasil diperbarui!")})},j=r=>{r.preventDefault(),s.put(route("admin.settings.update-password"),{preserveScroll:!0,onSuccess:()=>{s.reset(),alert("Password berhasil diubah!")}})},g=()=>{c.current.click()};return e.jsxs(N,{children:[e.jsx(w,{title:"Pengaturan"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Pengaturan"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Kelola profil admin dan informasi website."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-4",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:e.jsxs("nav",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>m("profile"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition ${n==="profile"?"bg-green-50 text-green-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(v,{size:18})," Profil Admin"]}),e.jsxs("button",{onClick:()=>m("password"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition ${n==="password"?"bg-green-50 text-green-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(k,{size:18})," Ganti Password"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition",children:[e.jsx(C,{size:18})," Informasi Website"]})]})})}),e.jsx("div",{className:"lg:col-span-2",children:n==="profile"?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6 border-b pb-4",children:"Edit Profil Admin"}),e.jsxs("form",{className:"space-y-5",onSubmit:f,children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center text-green-700 font-bold text-2xl border-2 border-green-200 overflow-hidden",children:o.image?e.jsx("img",{src:URL.createObjectURL(o.image),className:"w-full h-full object-cover",alt:"Preview"}):t.user.image?e.jsx("img",{src:`/storage/${t.user.image}`,className:"w-full h-full object-cover",alt:"Profile"}):t.user.name.substring(0,2).toUpperCase()}),e.jsx("button",{type:"button",onClick:g,className:"absolute bottom-0 right-0 p-1.5 bg-white border border-gray-200 rounded-full shadow-sm text-gray-600 hover:text-green-600 transition",children:e.jsx(_,{size:14})})]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",ref:c,className:"hidden",accept:"image/*",onChange:r=>l("image",r.target.files[0])}),e.jsx("button",{type:"button",onClick:g,className:"text-sm bg-white border border-gray-300 px-3 py-1.5 rounded-lg hover:bg-gray-50 font-medium transition",children:"Ganti Foto"}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"JPG, PNG maks 1MB."}),a.image&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:a.image})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),e.jsx("input",{type:"text",value:o.name,onChange:r=>l("name",r.target.value),className:`w-full border-gray-300 rounded-lg shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm p-2.5 border ${a.name?"border-red-500":""}`}),a.name&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:o.email,onChange:r=>l("email",r.target.value),className:`w-full border-gray-300 rounded-lg shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm p-2.5 border ${a.email?"border-red-500":""}`}),a.email&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Telepon"}),e.jsx("input",{type:"text",value:o.phone,onChange:r=>l("phone",r.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm p-2.5 border"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsx("input",{type:"text",value:"Super Admin",disabled:!0,className:"w-full border-gray-200 bg-gray-50 text-gray-500 rounded-lg shadow-sm sm:text-sm p-2.5 border cursor-not-allowed"})]})]}),e.jsx("div",{className:"pt-4 flex justify-end",children:e.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white px-6 py-2.5 rounded-lg font-medium shadow-sm transition flex items-center gap-2",children:[d?e.jsx(b,{size:18,className:"animate-spin"}):e.jsx(p,{size:18}),d?"Menyimpan...":"Simpan Perubahan"]})})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6 border-b pb-4",children:"Ganti Password"}),e.jsxs("form",{onSubmit:j,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Saat Ini"}),e.jsx("input",{type:"password",className:`w-full border-gray-300 rounded-lg p-2.5 border focus:ring-green-500 focus:border-green-500 ${s.errors.current_password?"border-red-500":""}`,value:s.data.current_password,onChange:r=>s.setData("current_password",r.target.value)}),s.errors.current_password&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:s.errors.current_password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Baru"}),e.jsx("input",{type:"password",className:`w-full border-gray-300 rounded-lg p-2.5 border focus:ring-green-500 focus:border-green-500 ${s.errors.password?"border-red-500":""}`,value:s.data.password,onChange:r=>s.setData("password",r.target.value)}),s.errors.password&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:s.errors.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konfirmasi Password Baru"}),e.jsx("input",{type:"password",className:"w-full border-gray-300 rounded-lg p-2.5 border focus:ring-green-500 focus:border-green-500",value:s.data.password_confirmation,onChange:r=>s.setData("password_confirmation",r.target.value)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:s.processing,className:"bg-green-600 text-white px-6 py-2.5 rounded-lg font-medium hover:bg-green-700 disabled:bg-green-400 flex items-center gap-2",children:[s.processing?e.jsx(b,{size:18,className:"animate-spin"}):e.jsx(p,{size:18}),s.processing?"Menyimpan...":"Update Password"]})})]})]})})]})]})}export{E as default};
