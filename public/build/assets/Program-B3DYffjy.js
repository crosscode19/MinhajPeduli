import{r as d,u as h,j as e,H as b}from"./app-C8lhSVMT.js";import{A as p}from"./AdminLayout-DayVYhfC.js";import{P as j}from"./plus-rlBv8JRI.js";import{S as y}from"./search-B5pCdbKa.js";import{F as v}from"./funnel-BKi2r-mI.js";import{c as N}from"./createLucideIcon-CskaXQlG.js";import{T as w}from"./trash-2-7HzIC937.js";import{X as k}from"./x-Cs26qH8L.js";import"./file-text-5M3K4KXe.js";import"./users-BEapWFTP.js";import"./menu-wL7uFBCp.js";const P=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],C=N("square-pen",P);function A({programs:m}){const[c,s]=d.useState(!1),[o,x]=d.useState(""),{data:l,setData:a,post:g,processing:n,reset:u,errors:r}=h({title:"",target_amount:"",image:null,description:""}),f=t=>{t.preventDefault(),g(route("admin.programs.store"),{onSuccess:()=>{s(!1),u()}})};return e.jsxs(p,{children:[e.jsx(b,{title:"Kelola Program"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Daftar Program Donasi"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Kelola kampanye donasi yang sedang berjalan."})]}),e.jsxs("button",{onClick:()=>s(!0),className:"bg-green-600 hover:bg-green-700 text-white px-5 py-2.5 rounded-lg font-medium shadow-md transition flex items-center gap-2",children:[e.jsx(j,{size:18})," Tambah Program"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 mb-6 flex flex-col md:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"relative w-full md:w-1/3",children:[e.jsx("input",{type:"text",placeholder:"Cari nama program...",value:o,onChange:t=>x(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 text-sm"}),e.jsx(y,{className:"absolute left-3 top-2.5 text-gray-400 w-4 h-4"})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-gray-50 border border-gray-300 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100 text-gray-700",children:[e.jsx(v,{size:16})," Filter Status"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.filter(t=>{const i=o.trim().toLowerCase();return i?(t.title||"").toLowerCase().includes(i):!0}).map(t=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col hover:shadow-md transition duration-300 group",children:[e.jsxs("div",{className:"h-48 overflow-hidden relative",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),e.jsx("div",{className:`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-bold shadow-sm ${t.status==="Aktif"?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:t.status})]}),e.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-3 leading-snug line-clamp-2",children:t.title}),e.jsx("div",{className:"space-y-4 mb-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Terkumpul"}),e.jsx("span",{className:"font-bold text-green-700",children:t.collected_formatted})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:e.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${t.progress}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.jsxs("span",{children:["Target: ",t.target_formatted]}),e.jsxs("span",{children:[t.progress,"%"]})]})]})}),e.jsxs("div",{className:"mt-auto flex gap-3 pt-4 border-t border-gray-100",children:[e.jsxs("a",{href:route("admin.donasi.edit",t.id),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg border border-gray-300 text-gray-700 text-sm hover:bg-gray-50 hover:text-green-700 font-medium transition",children:[e.jsx(C,{size:16})," Edit"]}),e.jsx("button",{className:"flex-none p-2.5 rounded-lg border border-red-200 text-red-500 hover:bg-red-50 transition tooltip",title:"Hapus Program",children:e.jsx(w,{size:18})})]})]})]},t.id))}),c&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Tambah Program Baru"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600 transition",children:e.jsx(k,{size:24})})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Program"}),e.jsx("input",{type:"text",placeholder:"Contoh: Pembangunan Masjid",className:`w-full border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 ${r.title?"border-red-500":""}`,value:l.title,onChange:t=>a("title",t.target.value)}),r.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Dana (Rp)"}),e.jsx("input",{type:"number",placeholder:"Masukkan angka saja",className:`w-full border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 ${r.target_amount?"border-red-500":""}`,value:l.target_amount,onChange:t=>a("target_amount",t.target.value)}),r.target_amount&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.target_amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gambar Program"}),e.jsx("input",{type:"file",className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100",onChange:t=>a("image",t.target.files[0])}),r.image&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 text-sm",children:"Deskripsi Singkat"}),e.jsx("textarea",{rows:"3",className:"w-full border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 text-sm",value:l.description,onChange:t=>a("description",t.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium transition",children:"Batal"}),e.jsx("button",{type:"submit",disabled:n,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium shadow-md transition disabled:opacity-50",children:n?"Menyimpan...":"Simpan Program"})]})]})]})})]})}export{A as default};
