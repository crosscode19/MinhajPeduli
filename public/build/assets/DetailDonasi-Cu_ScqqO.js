import{r as i,u as A,j as e,L as r,H as L,a as P}from"./app-C8lhSVMT.js";import{X as N}from"./x-Cs26qH8L.js";import{M as I}from"./message-circle-oqaSNz4D.js";import{c as o}from"./createLucideIcon-CskaXQlG.js";import{C as y}from"./check-KA7DhQhq.js";import{A as $}from"./arrow-left-C_Jtquaz.js";import{M as T}from"./map-pin-DttjZOtq.js";import{M as F}from"./mail-KN8d_enA.js";import{P as R}from"./phone-D2QptTw1.js";const B=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],E=o("copy",B);const K=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],H=o("facebook",K);const V=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],U=o("share-2",V);const W=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],q=o("twitter",W),h=d=>{const s=Number(d);return isNaN(s)?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s)};function te({auth:d,program:s,donation:t}){const[u,w]=i.useState(""),[v,f]=i.useState(!1),[m,g]=i.useState(!1),[n,k]=i.useState(""),{post:D,processing:p}=A();if(i.useEffect(()=>{typeof window<"u"&&k(window.location.href)},[]),!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#dcfce7]",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-green-800 mb-2",children:"Memuat Data..."}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Mohon tunggu sebentar atau periksa koneksi Anda."}),e.jsx(r,{href:"/donasi",className:"text-green-600 font-semibold underline",children:"Kembali ke Daftar Donasi"})]})});const b=a=>{const S=a==="paid"?"Terima donasi ini? Pastikan dana sudah masuk ke rekening yayasan.":"Apakah Anda yakin ingin menolak donasi ini?";window.confirm(S)&&D(route("admin.donations.update-status",t.id),{data:{status:a},preserveScroll:!0,onSuccess:()=>{alert(`Berhasil! Status donasi diperbarui menjadi ${a}.`),x}})},C=()=>{const a=s?.id?String(s?.id):null;if(!a){alert("Terjadi kesalahan: ID Program tidak ditemukan.");return}const l=Number(u);if(!l||l<1e4||isNaN(l)){alert("Mohon masukkan nominal donasi minimal Rp 10.000 untuk melanjutkan.");return}P.visit(route("donasi.form",{id:a,nominal:l}))},_=()=>{navigator.clipboard.writeText(n),g(!0),setTimeout(()=>g(!1),2e3)},c={whatsapp:`https://api.whatsapp.com/send?text=Bantu ${s.title} yuk! Cek detailnya di sini: ${n}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${n}`,twitter:`https://twitter.com/intent/tweet?url=${n}&text=Bantu ${s.title}`,line:`https://social-plugins.line.me/lineit/share?url=${n}`},M=h(s.collected_amount||0),z=h(s.target_amount||0),j=s.percentage||0;return e.jsxs(e.Fragment,{children:[e.jsx(L,{title:s.title}),v&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 relative scale-100 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Bagikan lewat"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition",children:e.jsx(N,{size:24})})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-8 text-center",children:[e.jsxs("a",{href:c.whatsapp,target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-14 h-14 bg-[#25D366] rounded-2xl flex items-center justify-center text-white shadow-md group-hover:scale-110 transition",children:e.jsx(I,{size:28,fill:"white"})}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"WhatsApp"})]}),e.jsxs("a",{href:c.facebook,target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-14 h-14 bg-[#1877F2] rounded-2xl flex items-center justify-center text-white shadow-md group-hover:scale-110 transition",children:e.jsx(H,{size:28,fill:"white"})}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Facebook"})]}),e.jsxs("a",{href:c.line,target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-14 h-14 bg-[#06C755] rounded-2xl flex items-center justify-center text-white shadow-md group-hover:scale-110 transition",children:e.jsx("span",{className:"font-bold text-xl",children:"L"})}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"LINE"})]}),e.jsxs("a",{href:c.twitter,target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-14 h-14 bg-[#1DA1F2] rounded-2xl flex items-center justify-center text-white shadow-md group-hover:scale-110 transition",children:e.jsx(q,{size:28,fill:"white"})}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Twitter"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-2 bg-gray-50",children:[e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("p",{className:"text-sm text-gray-500 truncate px-2",children:n})}),e.jsxs("button",{onClick:_,className:`px-4 py-2 rounded-md text-sm font-bold transition flex items-center gap-2 ${m?"bg-green-600 text-white":"bg-[#0ea5e9] text-white hover:bg-sky-600"}`,children:[m?e.jsx(y,{size:16}):e.jsx(E,{size:16}),m?"Disalin":"Salin"]})]})]})}),e.jsxs("div",{className:"min-h-screen bg-[#dcfce7] text-slate-800 font-sans",children:[e.jsxs("nav",{className:"flex justify-between items-center px-6 py-4 bg-green-100 shadow-sm sticky top-0 z-50",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-700 italic",children:["Minhaj",e.jsx("span",{className:"text-green-900",children:"Peduli"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm font-semibold",children:[e.jsx(r,{href:"/",className:"text-gray-600 hover:text-green-700 hover:bg-white px-4 py-2 rounded-full transition-all duration-300 hover:shadow-sm",children:"Beranda"}),e.jsx(r,{href:route("about"),className:"text-gray-600 hover:text-green-700 hover:bg-white px-4 py-2 rounded-full transition-all duration-300 hover:shadow-sm",children:"Tentang"}),e.jsx(r,{href:route("laporan"),className:"text-gray-600 hover:text-green-700 hover:bg-white px-4 py-2 rounded-full transition-all duration-300 hover:shadow-sm",children:"Laporan Keuangan"}),e.jsx(r,{href:route("donasi"),className:"bg-green-600 text-white px-5 py-2 rounded-full hover:bg-green-700 transition shadow-md border border-transparent",children:"Donasi"}),d?.user&&e.jsx(r,{href:route("admin.dashboard"),className:"ml-4 rounded-md border border-green-600 px-3 py-1 text-green-700 hover:bg-green-50",children:"Dashboard"})]})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[e.jsxs(r,{href:t?route("admin.donations"):route("donasi"),className:"inline-flex items-center text-green-700 hover:text-green-900 font-semibold mb-6 transition",children:[e.jsx($,{size:20,className:"mr-2"}),t?"Kembali ke Daftar Donasi Admin":"Kembali ke Daftar Donasi"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 items-start",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"rounded-3xl overflow-hidden shadow-lg mb-8 h-80 md:h-[400px] bg-white",children:e.jsx("img",{src:s.image_path,alt:s.title,className:"w-full h-full object-cover transform hover:scale-105 transition duration-500"})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-900 mb-4 font-serif",children:s.title}),e.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed font-medium",children:s.desc_short}),e.jsx("hr",{className:"border-green-300 mb-8"}),e.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl border border-green-100",children:[e.jsx("h2",{className:"text-xl font-bold text-green-800 mb-4 border-l-4 border-green-500 pl-3",children:"Detail Program"}),e.jsx("div",{className:"text-gray-800 space-y-4 leading-relaxed text-justify whitespace-pre-line",children:s.desc_long})]})]}),e.jsx("div",{className:"lg:col-span-1 sticky top-24 space-y-6",children:e.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl border border-gray-100 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-500"}),e.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6 mt-4",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"#e5e7eb",strokeWidth:"10",fill:"transparent"}),e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"#16a34a",strokeWidth:"10",fill:"transparent",strokeDasharray:440,strokeDashoffset:440-440*j/100,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-3xl font-bold text-blue-800",children:[j,"%"]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Donasi Terkumpul:"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:M}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["dari target donasi ",z]})]}),t?e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Validasi Admin"}),e.jsxs("div",{className:"mb-4 text-left p-3 bg-gray-50 rounded-lg border text-sm",children:[e.jsxs("p",{className:"text-gray-500 italic",children:["Donatur:"," ",e.jsx("span",{className:"text-slate-800 font-bold not-italic",children:t.name})]}),e.jsxs("p",{className:"text-gray-500 italic",children:["Nominal:"," ",e.jsx("span",{className:"text-green-700 font-bold not-italic",children:h(t.nominal)})]})]}),t.status==="pending"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>b("paid"),disabled:p,className:"w-full py-3 bg-green-600 text-white rounded-full font-bold flex items-center justify-center gap-2 hover:bg-green-700 transition disabled:opacity-50",children:[e.jsx(y,{size:20})," Terima Donasi"]}),e.jsxs("button",{onClick:()=>b("failed"),disabled:p,className:"w-full py-3 bg-white text-red-600 border border-red-200 rounded-full font-bold flex items-center justify-center gap-2 hover:bg-red-50 transition disabled:opacity-50",children:[e.jsx(N,{size:20})," Tolak / Gagal"]})]}):e.jsx("div",{className:"p-4 bg-gray-100 rounded-xl border border-dashed border-gray-300",children:e.jsxs("p",{className:`font-bold uppercase ${t.status==="paid"?"text-green-600":"text-red-600"}`,children:["Status: ",t.status]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 text-left",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-900 font-bold",children:"Rp"})}),e.jsx("input",{type:"number",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-full leading-5 bg-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm font-medium transition shadow-inner",placeholder:"Masukkan Nominal Donasi",value:u,onChange:a=>w(a.target.value)})]})}),e.jsx("button",{onClick:C,className:"block w-full bg-[#16a34a] hover:bg-green-700 text-white text-lg font-bold py-3 px-4 rounded-full shadow-lg transform active:scale-95 transition duration-200",children:"Donasi Sekarang"}),e.jsxs("button",{onClick:()=>f(!0),className:"block w-full mt-3 bg-white border border-gray-200 hover:bg-gray-50 text-gray-600 font-semibold py-3 px-4 rounded-full transition flex items-center justify-center gap-2",children:[e.jsx(U,{size:18})," Bagikan"]})]})]})})]})]}),e.jsxs("footer",{className:"w-full mt-10",children:[e.jsx("div",{className:"bg-green-50 py-10 px-6 text-green-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start gap-10",children:[e.jsxs("div",{className:"md:w-1/3",children:[e.jsx("h2",{className:"text-3xl font-bold italic text-green-700 mb-2",children:"MinhajPeduli"}),e.jsx("p",{className:"text-lg font-medium text-green-800",children:"Pondok Pesantren AL-Minhaj"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-16",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-green-900",children:"Alamat"}),e.jsx("ul",{className:"space-y-3",children:e.jsxs("li",{className:"flex items-start",children:[e.jsx(T,{className:"w-6 h-6 text-green-700 mr-3 mt-1 shrink-0"}),e.jsxs("span",{className:"text-green-800 text-sm",children:["Desa kuripan Kel.Kuripan",e.jsx("br",{}),"Kec. Ciseeng, Bogor, Jawa Barat"]})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-green-900",children:"Hubungi Kami"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(F,{className:"w-5 h-5 text-green-700 mr-3"}),e.jsx("span",{children:"AlMinhaj@gmail.com"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(R,{className:"w-5 h-5 text-green-700 mr-3"}),e.jsx("span",{children:"082108210821"})]})]})]})]})]})}),e.jsx("div",{className:"bg-white py-4 text-center border-t border-green-200 text-xs text-gray-500",children:"Â© 2025 MINHAJ PEDULI. ALL RIGHTS RESERVED."})]})]})]})}export{te as default};
